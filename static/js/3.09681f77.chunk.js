(this["webpackJsonpagile-board"]=this["webpackJsonpagile-board"]||[]).push([[3],{49:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var n=a(0),r=function(){Object(n.useEffect)((function(){return document.addEventListener("dragstart",c,!1),document.addEventListener("dragover",u,!1),document.addEventListener("dragend",o,!1),function(){document.removeEventListener("dragstart",c,!1),document.removeEventListener("dragover",u,!1),document.removeEventListener("dragend",o,!1)}}))},c=function(e){e.target.style.background="#ffffff",e.target.style.opacity=.3},u=function(e){e.preventDefault()},o=function(e){e.target.classList.remove("tilt"),e.target.style.background="#d0bfff",e.target.style.opacity=""},s=function(e){Object(n.useEffect)((function(){return document.addEventListener("keypress",t,!1),function(){document.removeEventListener("keypress",t,!1)}}));var t=function(t){13===t.keyCode&&(t.preventDefault(),e())}};function i(e,t){Object(n.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])}},50:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(a.push(u.value),!t||a.length!==t);n=!0);}catch(s){r=!0,c=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",(function(){return n}))},51:function(e,t,a){e.exports=a.p+"static/media/agile.ba108974.svg"},52:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("h1",{className:"brand-text"},"agilify")}},53:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(4);function r(e){return function(t,a){var r,c,u=a().users;if(u.userList.some((function(t){var a=t.username,n=t.password;return a===e.username&&n===e.password}))){var o=u.userList.findIndex((function(t){var a=t.username,n=t.password;return a===e.username&&n===e.password}));t((c=o,{type:n.a.UPDATE_LOGIN_STATUS_BY_INDEX,payload:c})),t((r=e.username,{type:n.a.UPDATE_USER_NAME,payload:r}))}}}function c(){return{type:n.a.RESET_USERS}}},54:function(e,t,a){e.exports=a.p+"static/media/list.9673587d.svg"},55:function(e,t,a){e.exports=a.p+"static/media/close.cad70081.svg"},56:function(e,t,a){e.exports=a.p+"static/media/plus.d026f1dc.svg"},57:function(e,t,a){e.exports=a.p+"static/media/trash.1333cc6b.svg"},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),u=a(51),o=a.n(u),s=a(52),i=function(e){var t=e.currentUser,a=e.resetUsers;return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:o.a,alt:"Agilify logo"}),r.a.createElement(s.a,null)),r.a.createElement("i",{className:"fa fa-bars hamburger"}),r.a.createElement("nav",{id:"menu"},r.a.createElement("p",null," ",t),r.a.createElement("p",null,r.a.createElement("a",{href:"#",onClick:function(){return a()}},"sign out"))))},d=a(8),l=a(53),m=Object(c.b)((function(e){return{currentUser:e.users.currentUser}}),(function(e){return Object(d.bindActionCreators)({resetUsers:l.a},e)}))(i),f=function(e){var t=e.sprintName;return r.a.createElement("div",{className:"project-header"},r.a.createElement("div",{className:"project-header-title"},r.a.createElement("h1",null,t)))},p=Object(c.b)((function(e){return{sprintName:e.status.sprintName}}),null)(f),E=a(50),b=a(54),v=a.n(b),g=function(){return r.a.createElement("img",{src:v.a,alt:"description"})},S=a(49),y=a(16),T=document.getElementById("modal"),j=function(e){var t=e.children;return r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal"},t))},N=function(e){var t=e.children,a=document.createElement("div");return Object(n.useEffect)((function(){return T.appendChild(a),function(){T.removeChild(a)}})),Object(y.createPortal)(r.a.createElement(j,null,t),a)},O="list",I="card",k="numeric",D={year:k,month:"short",day:"2-digit",hour:k,minute:k,hour12:!0},_=function(e){var t=e.description,a=e.createdDate;return r.a.createElement("div",{className:"comment-li"},r.a.createElement("p",null,t),r.a.createElement("p",null,new Intl.DateTimeFormat("default",D).format(Date.parse(a))))},h=Object(c.b)((function(e,t){return e.comments.byId[t.id]}),null)(_),A=function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},t.reverse().map((function(e){return r.a.createElement(h,{key:e,id:e})})))},w=a(55),C=a.n(w),L=function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],u=a[1],o=Object(n.useState)(!1),s=Object(E.a)(o,2),i=s[0],d=s[1],l=Object(n.useState)(""),m=Object(E.a)(l,2),f=m[0],p=m[1],b=Object(n.useState)(""),v=Object(E.a)(b,2),g=v[0],y=v[1],T=Object(n.useRef)(null),j=Object(n.useRef)(null);return Object(S.b)(T,(function(){return u(!1)})),Object(S.b)(j,(function(){return d(!1)})),r.a.createElement("div",{className:"edit-card"},r.a.createElement("div",{className:"_df _jc-fe _mx-25-50"},r.a.createElement("img",{onClick:e.closeModal,className:"icon-md icon _h-pointer",src:C.a,alt:"close"})),r.a.createElement("div",{className:"edit-card-header _df _jc-sb"},r.a.createElement("h2",{className:"_capitalize"},e.title),r.a.createElement("button",{className:"button _fr",onClick:function(){e.deleteTaskFromStatus({statusId:e.statusId,taskId:e.id}),e.closeModal()}},"Delete card")),r.a.createElement("div",{className:"edit-card-body"},r.a.createElement("div",{className:"edit-card-body-desc"},r.a.createElement("h4",null,"Description"),r.a.createElement("div",{className:"",ref:T},r.a.createElement("textarea",{onChange:function(e){return p(e.target.value)},value:f||e.description,row:"5",col:"10",onFocus:function(){return u(!c)}}),c&&r.a.createElement("button",{className:"button",onClick:function(){return e.updateDesc({taskId:e.id,description:f})}},"save"))),r.a.createElement("div",{className:"edit-card-body-comments"},r.a.createElement("h4",null,"Comments"),r.a.createElement("div",{className:"",ref:j},r.a.createElement("textarea",{onChange:function(e){return y(e.target.value)},value:g,row:"5",col:"10",placeholder:"write a comment...",onFocus:function(){return d(!i)}}),i&&r.a.createElement("button",{className:"button",onClick:function(){return e.addCommentsFromTask({taskId:e.id,description:g})}},"Add comments")),r.a.createElement(A,{comments:e.comments}))))},U=a(4),x=a(48);function F(e){return{type:U.a.UPDATE_DESC,payload:e}}function P(e){return function(t){var a=Object(x.a)();t(function(e){return{type:U.a.ADD_NEW_COMMENTS_TO_TASK,payload:e}}({taskId:e.taskId,commentId:a})),t(function(e){return{type:U.a.ADD_NEW_COMMENTS,payload:e}}({id:a,description:e.description}))}}function R(e){return{type:U.a.ADD_NEW_STATUS,payload:e}}function M(e){return{type:U.a.DELETE_STATUS,payload:e}}function K(e){return function(t){console.log(e," payload "),t(function(e){return{type:U.a.DELETE_TASK_IN_STATUS,payload:e}}(e)),t(function(e){return{type:U.a.DELETE_TASK,payload:e}}(e.taskId))}}function W(e){return function(t){var a=Object(x.a)();t(function(e){return{type:U.a.ADD_NEW_TASK_TO_STATUS,payload:e}}({statusId:e.statusId,taskId:a})),t(function(e){return{type:U.a.ADD_NEW_TASK,payload:e}}({taskId:a,title:e.title,description:"",comments:[]}))}}function B(e){return{type:U.a.SWAP_STATUS,payload:e}}function J(e){return function(t){e.dragStatusId===e.dropStatusId?t(function(e){return{type:U.a.SWAP_TASKS_IN_SAME_STATUS,payload:e}}({statusId:e.dragStatusId,dropTaskId:e.dropTaskId,dragTaskId:e.dragTaskId})):t(function(e){return{type:U.a.ADD_TASKS_IN_DIFFERENT_STATUS,payload:e}}(e))}}var z=Object(c.b)(null,(function(e){return Object(d.bindActionCreators)({updateDesc:F,addCommentsFromTask:P,deleteTaskFromStatus:K},e)}))(L),G=function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],u=a[1];Object(S.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"project-board-card-content-list",draggable:!0,onDragStart:function(t){return function(e,t){e.dataTransfer.setData("dragTaskId",t)}(t,e.id)},onDragOver:function(t){return function(e){e.preventDefault()}(t,e.id)},onDrop:function(t){return function(t,a){t.stopPropagation();var n=t.dataTransfer.getData("dragStatusId"),r=t.dataTransfer.getData("dragTaskId");t.dataTransfer.clearData(),e.swapTasks({dragStatusId:n,dropStatusId:e.statusId,dragTaskId:r,dropTaskId:a})}(t,e.id)},onClick:function(e){return u(!c)}},r.a.createElement("div",null,r.a.createElement("p",null,e.title)),r.a.createElement("div",{className:"project-board-card-content-list-footer"},r.a.createElement("div",{className:"task-id"},e.description&&r.a.createElement(g,null)))),c&&r.a.createElement(N,null,r.a.createElement(z,{statusId:e.statusId,title:e.title,id:e.id,description:e.description,comments:e.comments,closeModal:function(){return u(!1)}})))},X=Object(c.b)((function(e,t){return e.tasks.byId[t.id]}),(function(e){return Object(d.bindActionCreators)({swapTasks:J},e)}))(G),Y=a(56),q=a.n(Y),H=function(e){var t=e.text,a=e.callBack;return r.a.createElement("div",{className:"add-new",onClick:function(){return a()}},r.a.createElement("img",{src:q.a,className:"icon-sm",alt:"plus icon"}),r.a.createElement("span",null,"Add another ",t))},Q=r.a.forwardRef((function(e,t){var a=Object(n.useRef)(null),c=Object(n.useState)(""),u=Object(E.a)(c,2),o=u[0],s=u[1];Object(n.useEffect)((function(){a.current.focus()}),[]);return r.a.createElement("div",{className:"project-board-card-add-new",ref:t},r.a.createElement("input",{type:"text",ref:a,value:o,placeholder:"enter ".concat(e.type," here..."),onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{className:"button",onClick:function(){return e.addNewData(o),void s("")}},"Add ",e.type))})),V=function(e){var t=e.addNewTaskFromStatus,a=e.statusId,c=Object(n.useState)(!1),u=Object(E.a)(c,2),o=u[0],s=u[1],i=Object(n.useRef)();return Object(S.b)(i,(function(){return s(!1)})),r.a.createElement("div",{className:""},o?r.a.createElement(Q,{type:I,ref:i,addNewData:function(e){return t({statusId:a,title:e})}}):r.a.createElement(H,{text:I,callBack:function(){return s(!0)}}))},Z=Object(c.b)(null,(function(e){return Object(d.bindActionCreators)({addNewTaskFromStatus:W},e)}))(V),$=a(57),ee=a.n($),te=r.a.memo((function(e){var t=e.name,a=e.id,n=e.tasks,c=e.swapStatus,u=e.swapTasks,o=e.deleteStatus;Object(S.c)();var s=function(e){e.preventDefault()};return r.a.createElement("div",{className:"project-board-card",draggable:!0,onDragStart:function(e){return function(e,t){e.stopPropagation(),e.dataTransfer.setData("dragStatusId",t)}(e,a)},onDragOver:function(e){return s(e)},onDrop:function(e){return function(e,t){if(e.stopPropagation(),!e.dataTransfer.getData("dragTaskId")){var a=e.dataTransfer.getData("dragStatusId");c({dragStatusId:a,dropStatusId:t})}}(e,a)}},r.a.createElement("div",{className:"project-board-card-header _h-pointer"},r.a.createElement("p",null,t.replace("_"," ")),r.a.createElement("img",{className:"icon-sm icon",src:ee.a,alt:"delete icon",onClick:function(){return o(a)}})),r.a.createElement("div",{className:"project-board-card-content _pb-1",onDragOver:function(e){return s(e)},onDrop:function(e){return function(e,t){e.stopPropagation();var a=e.dataTransfer.getData("dragStatusId"),n=e.dataTransfer.getData("dragTaskId");e.dataTransfer.clearData(),u({dragStatusId:a,dropStatusId:t,dragTaskId:n})}(e,a)}},n.map((function(e){return r.a.createElement(X,{key:e,id:e,statusId:a})})),r.a.createElement(Z,{statusId:a})))})),ae=Object(c.b)(null,(function(e){return Object(d.bindActionCreators)({swapStatus:B,swapTasks:J,deleteStatus:M},e)}))(te),ne=function(e){var t=e.addNewStatus,a=Object(n.useState)(!1),c=Object(E.a)(a,2),u=c[0],o=c[1],s=Object(n.useRef)();return Object(S.b)(s,(function(){return o(!1)})),r.a.createElement("div",{className:"project-board-card"},u?r.a.createElement(Q,{type:O,ref:s,addNewData:t}):r.a.createElement(H,{text:"list",callBack:function(){return o(!0)}}))},re=Object(c.b)(null,(function(e){return Object(d.bindActionCreators)({addNewStatus:R},e)}))(ne),ce=function(e){var t=e.list;return r.a.createElement("div",{className:"project-board"},t.map((function(e){var t=e.id,a=e.title,n=e.tasks;return r.a.createElement(ae,{key:"Status-".concat(t),id:t,name:a,tasks:n})})),r.a.createElement(re,null))},ue=Object(c.b)((function(e){return{list:e.status.allIds.map((function(t){return e.status.byId[t]}))}}),null)(ce);t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("div",{className:"dashboard"},r.a.createElement(p,null),r.a.createElement(ue,null)))}}}]);
//# sourceMappingURL=3.09681f77.chunk.js.map